{"name":"abs","enabled":true,"description":"Secret gmcp skill info viewer.","type":"group","id":1,"items":[{"type":"function","name":"Read_Me","enabled":true,"id":5,"code":"/* \n\nAbs v1.0.1\nby: Zahan of Achaea\n\n\nView the AB file for skillsets and skills you don't have!\n\n\nUse:\nABS <skillset>\nABS <skillset> <skill>\n(You can also click on the skill names from the skillset window.)\n\n\nIf you have any problems or questions, send me a msg in the game or on the forum.\n\n\nThis plugin is provided for free but donations to Zahan (achaea) are always appreciated, no matter how small!\n\n\n<insert obligatory=\"use at your own risk\"/>\n\n\nVersion notes:\n- bug fix\n\n*/","items":[]},{"type":"function","name":"onGMCP","enabled":false,"id":2,"code":"if (args.gmcp_method == \"Char.Skills.List\") {\n    if (typeof abs_sent == \"undefined\") return;\n    delete abs_sent;\n    if (typeof abs_check != \"undefined\") clearTimeout(abs_check);\n\n    var gmcp_args = args.gmcp_args;\n    var dsl = $(\"<div/>\");\n    var div = \"<div id=\\\"group_skills\\\" class=\\\"\\\" title=\\\"Abilities in \" + ucfirst(gmcp_args.group) + \"\\\" style=\\\"font-size:.8em;\\\">\";\n\n    div += '<table id=\"skill_listing\">';\n    for (var i = 0; i < gmcp_args.list.length; ++i)\n    {\n        var desc = '';\n        if (gmcp_args.descs && (gmcp_args.descs.length > i)) desc = gmcp_args.descs[i];\n        div += \"<tr class=\\\"skill_name\\\" group=\\\"\" + gmcp_args.group + \"\\\" skill=\\\"\" + gmcp_args.list[i] + \"\\\"><td>\" + gmcp_args.list[i] + \"</td><td>\" + desc + '</td></tr>';\n    }\n    div += '</table>';\n\n    dsl.append(div).find(\".skill_name\").click(function() {\n        send_GMCP(\"Char.Skills.Get\", {\"group\":$(this).attr(\"group\"), \"name\":$(this).attr(\"skill\")});\n    });\n\n    cm_dialog(\"#\", {id: \"skill_list\", top_align: 40, title: \"Abilities in \" + ucfirst(gmcp_args.group), width: ($(\"#container\").width() * .4), height: ($(\"#container\").height() * .5), content: dsl});\n\n    var abs_response = client.reflex_find_by_name(\"function\", \"onGMCP\", true, false, \"Abs\");\n    reflex_disable(abs_response);\n}\n\n\nif (args.gmcp_method == \"Char.Skills.Info\") {\n    if (typeof abs_sent == \"undefined\") return;\n    delete abs_sent;\n    clearTimeout(abs_check);\n    \n    var abs_response = client.reflex_find_by_name(\"function\", \"onGMCP\", true, false, \"Abs\");\n    reflex_disable(abs_response);\n}"},{"type":"alias","name":"","enabled":true,"id":3,"matching":"regexp","whole_words":false,"case_sensitive":false,"prefix_suffix":true,"actions":[{"action":"script","script":"var abs_response = client.reflex_find_by_name(\"function\", \"onGMCP\", true, false, \"Abs\");\nreflex_enable(abs_response);\n\nvar group = args[1];\nvar send = {\"group\": \"\"+group+\"\"};\nsend_GMCP(\"Char.Skills.Get\", send);\nabs_sent = true;\nif (typeof abs_check != \"undefined\") clearTimeout(abs_check);\nabs_check = setTimeout(function(){\n    if (typeof abs_sent != \"undefined\") {\n        delete abs_sent;\n        display_notice(\"Skillset request failed.\", \"red\");\n    }\n}, 1000);"}],"text":"^abs (\\w+)$"},{"type":"alias","name":"","enabled":true,"id":4,"matching":"regexp","whole_words":false,"case_sensitive":false,"prefix_suffix":true,"actions":[{"action":"script","script":"var abs_response = client.reflex_find_by_name(\"function\", \"onGMCP\", true, false, \"Abs\");\nreflex_enable(abs_response);\n\nvar group = args[1];\nvar skill = args[2];\nvar send = {\"group\": \"\"+group+\"\", \"name\":\"\"+skill+\"\"};\nsend_GMCP(\"Char.Skills.Get\", send);\nabs_sent = true;\nif (typeof abs_check != \"undefined\") clearTimeout(abs_check);\nabs_check = setTimeout(function(){\n    if (typeof abs_sent != \"undefined\") {\n        delete abs_sent;\n        display_notice(\"No reply received.\", \"red\");\n    }\n}, 1000);"}],"text":"^abs (\\w+) (\\w+)$"}]}